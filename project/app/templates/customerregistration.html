{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <!-- Required meta tags-->
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Colorlib Templates">
    <meta name="author" content="Colorlib">
    <meta name="keywords" content="Colorlib Templates">

    <!-- Title Page-->
    <title>Customer Registration</title>

    <!-- Font special for pages-->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i,800,800i" rel="stylesheet">

    <!-- Main CSS-->
    <link href="{% static 'registration/css/mm.css' %}" rel="stylesheet" media="all">
</head>
<header>
{% include "public_menubar.html" %}
</header>
<body>

    <div class="page-wrapper bg-dark p-t-100 p-b-50">
        <div class="wrapper wrapper--w900">
            <div class="card card-6">
                <div class="card-heading">
                    <h2 class="title">Customer Registration</h2>
                </div>
                <div class="card-body">
                    <form action="/customerregistrationf/" method="POST" enctype="multipart/form-data">
                        {% csrf_token %}
                        <div class="form-row">
                            <div class="name">Cust Id</div>
                            <div class="value">
                                <input class="input--style-6" type="text" name="cust_id" value="{{cust_id}}" readonly>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="name">Name</div>
                            <div class="value">
                                <div class="input-group">
                                    <input class="input--style-6" type="text" name="cust_name" required >
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="name">House Name</div>
                            <div class="value">
                                <div class="input-group">
                                    <input class="input--style-6" type="text" name="house_name" required >
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="name">Street</div>
                            <div class="value">
                                <div class="input-group">
                                    <input class="input--style-6" type="text" name="street" required >
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="name">City</div>
                            <div class="value">
                                <div class="input-group">
                                    <input class="input--style-6" type="text" name="city" required >
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="name">District</div>
                            <div class="value">
                                <div class="input-group">
                                    <input class="input--style-6" type="text" name="district" required >
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="name">State </div>
                            <div class="value">
                                <div class="input-group">
                                    <input class="input--style-6" type="text" name="state" required >
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="name"> Pin code</div>
                            <div class="value">
                                <div class="input-group">
                                    <input class="input--style-6" type="text" name="pin_code" required >
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="name">Phone</div>
                            <div class="value">
                                <div class="input-group">
                                    <input class="input--style-6" type="text" name="phone" id="pho" placeholder="Phone Number" required >
                                    <p id="p" style="color: red;"></p>
                                </div>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="name">Email</div>
                            <div class="value">
                                <div class="input-group">
                                    <input class="input--style-6" type="text" name="email" required pattern="[^@]+@[^@]+.[a-zA-Z]{2,6}" placeholder="Your Email">
                                </div>
                            </div>
                        </div>
                  
                </div>
                <div class="card-footer">
                    <!-- <button class="btn btn--radius-2 btn--blue-2" type="submit" onclick="btnfn(event)">Register</button> -->
                    <input type="submit" name="register" class="register" value="Register" onclick="btnfn(event)">
                </div>
            </div>
        </div>
    </div>
    <script>
        function btnfn(event) {
          var DOB = document.getElementById("dob").value;
          var today = new Date();
          var parts = DOB.split("/");
          var thisYear = today.getFullYear();
          var thisMonth = today.getMonth() + 1;
          var thisDay = today.getDate();
          var givenYear = parts[2];
          var givenMonth = parts[1];
          var givenDay = parts[0];

          var todayDate = thisDay + "/" + thisMonth + "/" + thisYear;

          var day1 = new Date(today);
          var day2 = new Date(givenYear + "-" + givenMonth + "-" + givenDay);
          var difference = day1 - day2;

          var age = today.getFullYear() - givenYear;

          if (difference < 0) {
            document.getElementById("ageErr").innerHTML = "Date of birth not valid";
            event.preventDefault();
          } else {
            document.getElementById("ageErr").innerHTML = "";
          }

          if (age < 0 || age > 100) {
            document.getElementById("ageErro").innerHTML = "Date of birth not valid";
            event.preventDefault();
          } else {
            document.getElementById("ageErro").innerHTML = "";
          }

          var phone = document.getElementById("pho").value;
          var phoneno = /^[6-9]\d{9}$/;

          if (phone.match(phoneno) == null) {
            document.getElementById("p").innerHTML = "Phone number Error";
            event.preventDefault();

          } else {
            document.getElementById("p").innerHTML = "";
          }

          var regexp = /^\d{12}$/;
          var ano = document.getElementById("qualification").value;
          if (regexp.test(ano)) {
            document.getElementById("AadhaarErr").innerHTML = "";
          } else {
            document.getElementById("AadhaarErr").innerHTML = "Aadhaar number Error";
            event.preventDefault();

          }
        } 

      </script>
</form>
    <!-- Jquery JS-->
    <script src="{% static 'registration/vendor/jquery/jquery.min.js' %}"></script>


    <!-- Main JS-->
    <script src="{% static 'registration/js/global.js' %}"></script>

</body><!-- This templates was made by Colorlib (https://colorlib.com) -->

</html>
<!-- end document-->